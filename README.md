# 社内情報特化型生成 AI 検索アプリ

このアプリは、社内文書を検索し、AI が回答を生成する Streamlit アプリケーションです。

## 機能

- **社内文書検索**: 入力内容と関連する社内文書を検索
- **社内問い合わせ**: 社内情報に基づいて AI が回答を生成
- **会話履歴の保持**: 過去の会話を記憶して文脈を理解

## Streamlit コミュニティでの動作

### 必要な設定

1. **環境変数の設定**

   - Streamlit コミュニティの設定画面で以下の環境変数を設定してください：

   ```
   OPENAI_API_KEY=your-openai-api-key-here
   ```

2. **データファイルの配置**
   - `data/` フォルダ内のファイルが自動的に読み込まれます
   - サポートされているファイル形式：PDF、DOCX、CSV

### ログの確認

- アプリの動作ログは Streamlit コミュニティのコンソールに出力されます
- エラーが発生した場合は、コンソールログで詳細を確認できます

## ローカル環境での実行

### 必要なパッケージ

```bash
pip install -r requirements.txt
```

### 環境変数の設定

`.env`ファイルを作成し、以下の内容を設定：

```
OPENAI_API_KEY=your-openai-api-key-here
```

### アプリの起動

```bash
streamlit run main.py
```

## ファイル構成

- `main.py`: メインアプリケーション
- `components.py`: UI コンポーネント
- `utils.py`: ユーティリティ関数
- `constants.py`: 定数定義
- `initialize.py`: 初期化処理
- `data/`: 検索対象の文書ファイル

## トラブルシューティング

### よくある問題

1. **OpenAI API キーが設定されていない**

   - Streamlit コミュニティの設定画面で環境変数を確認してください

2. **データファイルが読み込まれない**

   - `data/` フォルダ内にファイルが存在することを確認してください
   - サポートされているファイル形式のみ読み込み可能です

3. **ログが表示されない**
   - Streamlit コミュニティのコンソールを確認してください
   - エラーメッセージが画面に表示されます

## 技術スタック

- Streamlit
- LangChain
- OpenAI GPT-4o-mini
- ChromaDB (ベクターストア)
- PyMuPDF (PDF 読み込み)
- python-docx (DOCX 読み込み)
